[kernel] Parsing tests/sparecode/bts324_bis.i (no preprocessing)
[sparecode] remove unused code...
[sparecode] selecting function main outputs and entry point
[value] Analyzing a complete application starting at main
[value] Computing initial state
[value] Initial state computed
[value:initial-state] Values of globals at initialization
  ki[0..1] ∈ {0}
  k ∈ {0}
  e0 ∈ [--..--]
  e1 ∈ [--..--]
  s0 ∈ {0}
  s1 ∈ {0}
  is_ok ∈ {0}
  f_si[0..1] ∈ {0}
  f_so[0..1] ∈ {0}
[value] computing for function init <- main.
  Called from tests/sparecode/bts324_bis.i:37.
[value] Recording results for init
[value] Done for function init
[value] tests/sparecode/bts324_bis.i:39: entering loop for the first time
[value] computing for function loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:40.
[value] computing for function f <- loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:22.
[value:alarm] tests/sparecode/bts324_bis.i:10: Warning: 
  signed overflow. assert -2147483648 ≤ ki[i] * (int)(vi - f_si[i]);
[value:alarm] tests/sparecode/bts324_bis.i:10: Warning: 
  signed overflow. assert ki[i] * (int)(vi - f_si[i]) ≤ 2147483647;
[value] Recording results for f
[value] Done for function f
[value] computing for function f <- loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:23.
[value] Recording results for f
[value] Done for function f
[value] Recording results for loop_body
[value] Done for function loop_body
[value] computing for function loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:40.
[value] computing for function f <- loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:22.
[value:alarm] tests/sparecode/bts324_bis.i:10: Warning: 
  signed overflow. assert -2147483648 ≤ vi - f_si[i];
[value:alarm] tests/sparecode/bts324_bis.i:10: Warning: 
  signed overflow. assert vi - f_si[i] ≤ 2147483647;
[value:alarm] tests/sparecode/bts324_bis.i:10: Warning: 
  signed overflow.
  assert
  -2147483648 ≤ (int)(f_so[i] / k) + (int)(ki[i] * (int)(vi - f_si[i]));
[value:alarm] tests/sparecode/bts324_bis.i:10: Warning: 
  signed overflow.
  assert
  (int)(f_so[i] / k) + (int)(ki[i] * (int)(vi - f_si[i])) ≤ 2147483647;
[value] Recording results for f
[value] Done for function f
[value] computing for function f <- loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:23.
[value] Recording results for f
[value] Done for function f
[value] Recording results for loop_body
[value] Done for function loop_body
[value] computing for function loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:40.
[value] computing for function f <- loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:22.
[value] Recording results for f
[value] Done for function f
[value] computing for function f <- loop_body <- main.
  Called from tests/sparecode/bts324_bis.i:23.
[value] Recording results for f
[value] Done for function f
[value] Recording results for loop_body
[value] Done for function loop_body
[value] Recording results for main
[value] done for function main
[pdg] computing for function main
[from] Computing for function init
[from] Done for function init
[from] Computing for function loop_body
[from] Computing for function f <-loop_body
[from] Done for function f
[from] Done for function loop_body
[pdg] tests/sparecode/bts324_bis.i:47: Warning: 
  no final state. Probably unreachable...
[pdg] done for function main
[sparecode] add selection in function 'main'
[sparecode] selecting output zones ki[0..1]; k; s0; s1; is_ok; f_si[0..1]; f_so[0..1]
[sparecode] look for annotations in function f
[pdg] computing for function f
[pdg] done for function f
[sparecode] look for annotations in function init
[pdg] computing for function init
[pdg] done for function init
[sparecode] look for annotations in function loop_body
[pdg] computing for function loop_body
[pdg] done for function loop_body
[sparecode] look for annotations in function main
[sparecode] selecting annotation : impact pragma expr s0;
[sparecode] selecting annotation : slice pragma expr s1;
[sparecode] add selection in function 'main'
[sparecode] look for annotations in function main_bis
[pdg] computing for function main_bis
[pdg] Warning: unreachable entry point (sid:32, function main_bis)
[pdg] Bottom for function main_bis
[sparecode] pdg bottom: skip annotations
[sparecode] finalize call input propagation
[sparecode] add selection in function 'loop_body'
[sparecode] add selection in function 'main'
[sparecode] remove unused global declarations...
[sparecode] result in new project 'default without sparecode'.
/* Generated by Frama-C */
int ki[2];
int k;
int f(int vi, int i);

static int f_si[2] = {0};
static int f_so[2] = {0};
int f(int vi, int i)
{
  int vo = f_so[i] / k + ki[i] * (vi - f_si[i]);
  f_so[i] = vo;
  f_si[i] = vi;
  return vo;
}

int volatile e0;
int volatile e1;
int s0;
int s1;
void loop_body(void)
{
  int acq0 = e0;
  int acq1 = e1;
  int val0 = f(acq0,0);
  int val1 = f(acq1,1);
  s0 = val0;
  s1 = val1;
  return;
}

void init(void)
{
  ki[0] = 2;
  ki[1] = 4;
  k = 8;
  return;
}

void main(void)
{
  init();
  while (1) {
    loop_body();
    /*@ impact pragma expr s0; */ ;
    /*@ slice pragma expr s1; */ ;
  }
  return;
}


