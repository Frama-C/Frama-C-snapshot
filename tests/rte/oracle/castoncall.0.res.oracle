[kernel] Parsing tests/rte/castoncall.c (with preprocessing)
[rte] annotating function g
[rte] annotating function nondet_ptr
/* Generated by Frama-C */
/*@ ensures \result ≡ \old(a) ∨ \result ≡ \old(b);
    assigns \result;
    assigns \result \from a, b;
 */
int nondet(int a, int b);

/*@ ensures \result ≡ \old(a) ∨ \result ≡ \old(b);
    assigns \result;
    assigns \result \from a, b;
 */
void *nondet_ptr(void *a, void *b)
{
  void *__retres;
  int tmp;
  /*@ behavior pre_nondet:
        ensures tmp ≡ \old((int)a) ∨ tmp ≡ \old((int)b);
        assigns tmp;
        assigns tmp \from b, a;
  */
  tmp = nondet((int)a,(int)b);
  __retres = (void *)tmp;
  return __retres;
}

/*@ ensures \result ≡ 1;
    assigns \nothing; */
int f();

void g(void)
{
  int tmp;
  /*@ behavior pre_f:
        ensures tmp ≡ 1;
        assigns tmp; */
  tmp = f();
  /*@ assert rte: signed_downcast: tmp ≤ 127; */
  /*@ assert rte: signed_downcast: -128 ≤ tmp; */
  char c = (char)tmp;
  return;
}


