[kernel] Parsing tests/value/downcast.i (no preprocessing)
[value] Analyzing an incomplete application starting at main
[value] Computing initial state
[value] Initial state computed
[value:initial-state] Values of globals at initialization
  sx ∈ [--..--]
  sy ∈ [--..--]
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  uy ∈ [--..--]
  uz ∈ [--..--]
  s ∈ [--..--]
  v ∈ [--..--]
[value] computing for function main1 <- main.
    Called from tests/value/downcast.i:152.
tests/value/downcast.i:19:[value] warning: signed downcast. assert -128 ≤ (int)sx + (int)sy;
tests/value/downcast.i:19:[value] warning: signed downcast. assert (int)sx + (int)sy ≤ 127;
tests/value/downcast.i:22:[value] warning: signed downcast. assert uy + uz ≤ 2147483647;
[value] Recording results for main1
[value] Done for function main1
[value] computing for function main2_bitfield <- main.
    Called from tests/value/downcast.i:153.
tests/value/downcast.i:32:[value] warning: signed downcast. assert i ≤ 15;
[value] Recording results for main2_bitfield
[value] Done for function main2_bitfield
[value] computing for function main3_reduction <- main.
    Called from tests/value/downcast.i:154.
tests/value/downcast.i:38:[value] warning: signed downcast. assert -128 ≤ x_0;
tests/value/downcast.i:38:[value] warning: signed downcast. assert x_0 ≤ 127;
[value] Recording results for main3_reduction
[value] Done for function main3_reduction
[value] computing for function main4_pointer <- main.
    Called from tests/value/downcast.i:155.
tests/value/downcast.i:50:[value] warning: signed overflow. assert -9223372036854775808 ≤ p + (long long)100;
tests/value/downcast.i:50:[value] warning: signed overflow. assert p + (long long)100 ≤ 9223372036854775807;
tests/value/downcast.i:52:[value] warning: signed downcast. assert -2147483648 ≤ p;
tests/value/downcast.i:52:[value] warning: signed downcast. assert p ≤ 2147483647;
[value] Recording results for main4_pointer
[value] Done for function main4_pointer
[value] computing for function main5_wrap_signed <- main.
    Called from tests/value/downcast.i:156.
tests/value/downcast.i:58:[value] warning: assertion 'ASSUME' got status unknown.
tests/value/downcast.i:59:[value] assertion got status valid.
tests/value/downcast.i:62:[value] warning: signed downcast. assert y ≤ 2147483647;
tests/value/downcast.i:63:[value] Frama_C_show_each:
    [100000..2147483647], [100145..2147483647], [100145..2147483647]
tests/value/downcast.i:64:[value] assertion got status valid.
[value] Recording results for main5_wrap_signed
[value] Done for function main5_wrap_signed
[value] computing for function main6_val_warn_converted_signed <- main.
    Called from tests/value/downcast.i:157.
tests/value/downcast.i:71:[value] warning: signed downcast. assert 65300u ≤ 32767;
tests/value/downcast.i:82:[value] warning: signed downcast. assert e_0 ≤ 32767;
tests/value/downcast.i:87:[value] warning: signed downcast. assert e_1 ≤ 32767;
tests/value/downcast.i:91:[value] warning: signed downcast. assert p ≤ 2147483647;
tests/value/downcast.i:92:[value] warning: signed downcast. assert p ≤ 32767;
tests/value/downcast.i:93:[value] Assigning imprecise value to z.
    The imprecision originates from Arithmetic {tests/value/downcast.i:93}
[value] Recording results for main6_val_warn_converted_signed
[value] Done for function main6_val_warn_converted_signed
[value] computing for function main7_signed_upcast <- main.
    Called from tests/value/downcast.i:158.
[value] Recording results for main7_signed_upcast
[value] Done for function main7_signed_upcast
[value] computing for function main8_bitfields <- main.
    Called from tests/value/downcast.i:159.
tests/value/downcast.i:114:[value] warning: signed downcast. assert S.i1 ≤ 31;
tests/value/downcast.i:115:[value] warning: signed downcast. assert S.i1 ≤ 127;
tests/value/downcast.i:119:[value] warning: signed downcast. assert S.i1 ≤ 31;
tests/value/downcast.i:120:[value] warning: signed downcast. assert S.i1 ≤ 127;
tests/value/downcast.i:124:[value] warning: signed downcast. assert S.i1 ≤ 31;
[value] Recording results for main8_bitfields
[value] Done for function main8_bitfields
[value] computing for function main9_bitfield <- main.
    Called from tests/value/downcast.i:160.
tests/value/downcast.i:133:[value] warning: signed downcast. assert bf.a ≤ 1023;
tests/value/downcast.i:137:[value] warning: signed downcast. assert bf.a ≤ 127;
[value] Recording results for main9_bitfield
[value] Done for function main9_bitfield
[value] computing for function main10_loop <- main.
    Called from tests/value/downcast.i:161.
tests/value/downcast.i:145:[value] entering loop for the first time
tests/value/downcast.i:147:[value] warning: signed downcast. assert bf.b ≤ 127;
[value] Recording results for main10_loop
[value] Done for function main10_loop
[value] Recording results for main
[value] done for function main
tests/value/downcast.i:32:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:71:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:82:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:87:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:114:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:115:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:119:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:120:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:124:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:133:[value] assertion 'Value,signed_downcast' got final status invalid.
tests/value/downcast.i:137:[value] assertion 'Value,signed_downcast' got final status invalid.
[value] ====== VALUES COMPUTED ======
[value:final-states] Values at end of function main1:
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [0..2147483647]
  ux ∈ [--..--]
  s ∈ [--..--]
[value:final-states] Values at end of function main10_loop:
  c ∈ [0..127] or UNINITIALIZED
  bf.b ∈ [--..--] or UNINITIALIZED
    .[bits 10 to 31] ∈ UNINITIALIZED
  k ∈ {10}
[value:final-states] Values at end of function main2_bitfield:
  i ∈ {117}
  j ∈ {254}
  ss.i ∈ UNINITIALIZED
    .j ∈ {30} or UNINITIALIZED
    .[bits 10 to 31] ∈ UNINITIALIZED
[value:final-states] Values at end of function main3_reduction:
  x_0 ∈ [-128..127]
  c ∈ [--..--]
  y ∈ [--..--]
  d ∈ [--..--]
[value:final-states] Values at end of function main4_pointer:
  p ∈ {{ &x_0 + {100} }}
  q ∈ {{ &x_0 + {100} }}
  r ∈ {{ &x_0 + {100} }}
[value:final-states] Values at end of function main5_wrap_signed:
  x_0 ∈ [100000..2147483647]
  y ∈ [100145..2147483647]
  z ∈ [100145..2147483647]
[value:final-states] Values at end of function main6_val_warn_converted_signed:
  
[value:final-states] Values at end of function main7_signed_upcast:
  c ∈ {240}
  i ∈ {240}
[value:final-states] Values at end of function main8_bitfields:
  S.i1 ∈ {65}
   {.i2; .[bits 24 to 31]} ∈ UNINITIALIZED
  c ∈ {65} or UNINITIALIZED
[value:final-states] Values at end of function main9_bitfield:
  bf.a ∈ {1648}
    .[bits 11 to 31] ∈ UNINITIALIZED
  c ∈ UNINITIALIZED
[value:final-states] Values at end of function main:
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [0..2147483647]
  ux ∈ [--..--]
  s ∈ [--..--]
[from] Computing for function main1
[from] Done for function main1
[from] Computing for function main10_loop
[from] Done for function main10_loop
[from] Computing for function main2_bitfield
[from] Done for function main2_bitfield
[from] Computing for function main3_reduction
[from] Done for function main3_reduction
[from] Computing for function main4_pointer
[from] Done for function main4_pointer
[from] Computing for function main5_wrap_signed
[from] Done for function main5_wrap_signed
[from] Computing for function main6_val_warn_converted_signed
[from] Done for function main6_val_warn_converted_signed
[from] Computing for function main7_signed_upcast
[from] Done for function main7_signed_upcast
[from] Computing for function main8_bitfields
[from] Done for function main8_bitfields
[from] Computing for function main9_bitfield
[from] Done for function main9_bitfield
[from] Computing for function main
[from] Done for function main
[from] ====== DEPENDENCIES COMPUTED ======
    These dependencies hold at termination for the executions that terminate:
[from] Function main1:
  sz FROM sx; sy
  uc FROM x
  x FROM uy; uz
  ux FROM uy; uz
  s FROM uy; uz
[from] Function main10_loop:
  NO EFFECTS
[from] Function main2_bitfield:
  NO EFFECTS
[from] Function main3_reduction:
  NO EFFECTS
[from] Function main4_pointer:
  NO EFFECTS
[from] Function main5_wrap_signed:
  NO EFFECTS
[from] Function main6_val_warn_converted_signed:
  NO EFFECTS
[from] Function main7_signed_upcast:
  NO EFFECTS
[from] Function main8_bitfields:
  NO EFFECTS
[from] Function main9_bitfield:
  NO EFFECTS
[from] Function main:
  sz FROM sx; sy
  uc FROM x
  x FROM uy; uz
  ux FROM uy; uz
  s FROM uy; uz
[from] ====== END OF DEPENDENCIES ======
[inout] Out (internal) for function main1:
      sz; uc; x; ux; s
[inout] Inputs for function main1:
      sx; sy; x; uy; uz
[inout] Out (internal) for function main10_loop:
      c; bf.b; k
[inout] Inputs for function main10_loop:
      v
[inout] Out (internal) for function main2_bitfield:
      i; j; ss{.i; .j}
[inout] Inputs for function main2_bitfield:
      v
[inout] Out (internal) for function main3_reduction:
      x_0; c; y; d
[inout] Inputs for function main3_reduction:
      v
[inout] Out (internal) for function main4_pointer:
      p; q; r
[inout] Inputs for function main4_pointer:
      \nothing
[inout] Out (internal) for function main5_wrap_signed:
      x_0; y; z
[inout] Inputs for function main5_wrap_signed:
      v
[inout] Out (internal) for function main6_val_warn_converted_signed:
      s_0; u; e; b; e_0; b_0; e_1; b_1; p; x_0; y; z
[inout] Inputs for function main6_val_warn_converted_signed:
      v
[inout] Out (internal) for function main7_signed_upcast:
      c; i
[inout] Inputs for function main7_signed_upcast:
      \nothing
[inout] Out (internal) for function main8_bitfields:
      S{.i1; .i2}; c
[inout] Inputs for function main8_bitfields:
      v
[inout] Out (internal) for function main9_bitfield:
      bf.a; signed_a; c
[inout] Inputs for function main9_bitfield:
      v
[inout] Out (internal) for function main:
      sz; uc; x; ux; s
[inout] Inputs for function main:
      sx; sy; x; uy; uz; v
[report] Computing properties status...

--------------------------------------------------------------------------------
--- Properties of Function 'main1'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 19)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 19)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 22)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main2_bitfield'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 32)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 32)

--------------------------------------------------------------------------------
--- Properties of Function 'main3_reduction'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 38)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 38)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main4_pointer'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_overflow' (file tests/value/downcast.i, line 50)
            tried with Value.
[    -    ] Assertion 'Value,signed_overflow' (file tests/value/downcast.i, line 50)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 52)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 52)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main5_wrap_signed'
--------------------------------------------------------------------------------

[    -    ] Assertion 'ASSUME' (file tests/value/downcast.i, line 58)
            tried with Value.
[  Valid  ] Assertion (file tests/value/downcast.i, line 59)
            by Value.
[  Valid  ] Assertion (file tests/value/downcast.i, line 64)
            by Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 62)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main6_val_warn_converted_signed'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 71)
            By Value, with pending:
             - Unreachable initialization of 's_0' (file tests/value/downcast.i, line 71)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 82)
            By Value, with pending:
             - Unreachable initialization of 'b_0' (file tests/value/downcast.i, line 82)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 87)
            By Value, with pending:
             - Unreachable initialization of 'b_1' (file tests/value/downcast.i, line 87)
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 91)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 92)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main8_bitfields'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 114)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 114)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 115)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 115)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 119)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 119)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 120)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 120)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 124)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 124)

--------------------------------------------------------------------------------
--- Properties of Function 'main9_bitfield'
--------------------------------------------------------------------------------

[  Dead   ] Assertion (file tests/value/downcast.i, line 134)
            Locally valid, but unreachable.
            By Value because:
             - Unreachable program point (file tests/value/downcast.i, line 134)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 133)
            By Value, with pending:
             - Unreachable initialization of 'signed_a' (file tests/value/downcast.i, line 133)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 137)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 137)
[Unreachable] Unreachable program point (file tests/value/downcast.i, line 134)
            by Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main10_loop'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 147)
            tried with Value.

--------------------------------------------------------------------------------
--- Status Report Summary
--------------------------------------------------------------------------------
     2 Completely validated
    14 To be validated
    11 Alarms emitted
     1 Dead property
     1 Unreachable
    29 Total
--------------------------------------------------------------------------------
/* Generated by Frama-C */
struct s {
   int i : 5 ;
   unsigned int j : 5 ;
};
struct bitf {
   unsigned int i1 : 18 ;
   int i2 : 6 ;
};
struct __anonstruct_bf_1 {
   unsigned int a : 11 ;
};
struct __anonstruct_bf_2 {
   unsigned int b : 10 ;
};
signed char sx;
signed char sy;
signed char sz;
unsigned char uc;
int x;
unsigned int ux;
unsigned int uy;
unsigned int uz;
unsigned short s;
int volatile v;
void main1(void)
{
  /*@ assert Value: signed_downcast: -128 ≤ (int)sx + (int)sy; */
  /*@ assert Value: signed_downcast: (int)sx + (int)sy ≤ 127; */
  sz = (signed char)((int)sx + (int)sy);
  uc = (unsigned char)((int)sx + (int)sy);
  uc = (unsigned char)x;
  /*@ assert Value: signed_downcast: uy + uz ≤ 2147483647; */
  x = (int)(uy + uz);
  ux = uy + uz;
  s = (unsigned short)(uy + uz);
  return;
}

void main2_bitfield(void)
{
  struct s ss;
  int i = 117;
  unsigned int j = (unsigned int)254;
  if (v) 
    /*@ assert Value: signed_downcast: i ≤ 15; */
    ss.i = (int)i;
  if (v) ss.j = (unsigned int)j;
  return;
}

void main3_reduction(void)
{
  int x_0 = v;
  /*@ assert Value: signed_downcast: -128 ≤ x_0; */
  /*@ assert Value: signed_downcast: x_0 ≤ 127; */
  char c = (char)x_0;
  unsigned int y = (unsigned int)v;
  unsigned char d = (unsigned char)y;
  return;
}

void main4_pointer(void)
{
  int x_0;
  long long p = (long long)(& x_0);
  /*@ assert
      Value: signed_overflow: -9223372036854775808 ≤ p + (long long)100;
  */
  /*@ assert
      Value: signed_overflow: p + (long long)100 ≤ 9223372036854775807;
  */
  p += (long long)100;
  unsigned int q = (unsigned int)p;
  /*@ assert Value: signed_downcast: -2147483648 ≤ p; */
  /*@ assert Value: signed_downcast: p ≤ 2147483647; */
  int r = (int)p;
  return;
}

/*@ assigns \result;
    assigns \result \from \nothing; */
extern int ( /* missing proto */ Frama_C_show_each)();

void main5_wrap_signed(void)
{
  int x_0 = v;
  /*@ assert ASSUME: x_0 ≥ 100000; */ ;
  /*@ assert x_0 > 0x7FFFFFFF - 145 ∨ x_0 ≤ 0x7FFFFFFF - 145; */ ;
  unsigned int y = (unsigned int)x_0;
  y += (unsigned int)145;
  /*@ assert Value: signed_downcast: y ≤ 2147483647; */
  int z = (int)y;
  Frama_C_show_each(x_0,y,z);
  /*@ assert z ≥ 100000 + 145 ∨ z ≤ (int)(0x7FFFFFFF + 145); */ ;
  return;
}

void main6_val_warn_converted_signed(void)
{
  if (v) {
    /*@ assert Value: signed_downcast: 65300u ≤ 32767; */
    short s_0 = (short)65300u;
  }
  if (v) {
    unsigned short u = (unsigned short)65300u;
  }
  if (v) {
    unsigned long e = (unsigned long)17;
    short b = (short)e;
  }
  if (v) {
    unsigned long e_0 = (unsigned long)(-12);
    /*@ assert Value: signed_downcast: e_0 ≤ 32767; */
    short b_0 = (short)e_0;
  }
  if (v) {
    unsigned int e_1 = (unsigned int)(-64000);
    /*@ assert Value: signed_downcast: e_1 ≤ 32767; */
    short b_1 = (short)e_1;
  }
  if (v) {
    int *p = (int *)(& v);
    /*@ assert Value: signed_downcast: p ≤ 2147483647; */
    int x_0 = (int)p;
    /*@ assert Value: signed_downcast: p ≤ 32767; */
    short y = (short)p;
    unsigned short z = (unsigned short)p;
  }
  return;
}

void main7_signed_upcast(void)
{
  unsigned char c = (unsigned char)240;
  int i = (int)c;
  return;
}

void main8_bitfields(void)
{
  struct bitf S;
  signed char c;
  S.i1 = (unsigned int)0x3FFFF;
  if (v) 
    /*@ assert Value: signed_downcast: S.i1 ≤ 31; */
    S.i2 = (int)S.i1;
  if (v) 
    /*@ assert Value: signed_downcast: S.i1 ≤ 127; */
    c = (signed char)S.i1;
  S.i1 = (unsigned int)257u;
  if (v) 
    /*@ assert Value: signed_downcast: S.i1 ≤ 31; */
    S.i2 = (int)S.i1;
  if (v) 
    /*@ assert Value: signed_downcast: S.i1 ≤ 127; */
    c = (signed char)S.i1;
  S.i1 = (unsigned int)65u;
  if (v) 
    /*@ assert Value: signed_downcast: S.i1 ≤ 31; */
    S.i2 = (int)S.i1;
  if (v) c = (signed char)S.i1;
  return;
}

void main9_bitfield(void)
{
  struct __anonstruct_bf_1 bf;
  signed char c;
  bf.a = (unsigned int)1648;
  if (v) {
    /*@ assert Value: signed_downcast: bf.a ≤ 1023; */
    int signed_a = (int)((int)bf.a);
    /*@ assert signed_a ≡ -400; */ ;
  }
  if (v) 
    /*@ assert Value: signed_downcast: bf.a ≤ 127; */
    c = (signed char)bf.a;
  return;
}

void main10_loop(void)
{
  signed char c;
  struct __anonstruct_bf_2 bf;
  int k = 0;
  while (k < 10) {
    bf.b = (unsigned int)v;
    if (v) 
      /*@ assert Value: signed_downcast: bf.b ≤ 127; */
      c = (signed char)bf.b;
    k ++;
  }
  return;
}

void main(void)
{
  main1();
  main2_bitfield();
  main3_reduction();
  main4_pointer();
  main5_wrap_signed();
  main6_val_warn_converted_signed();
  main7_signed_upcast();
  main8_bitfields();
  main9_bitfield();
  main10_loop();
  return;
}


[value] Analyzing an incomplete application starting at main
[value] Computing initial state
[value] Initial state computed
[value:initial-state] Values of globals at initialization
  sx ∈ [--..--]
  sy ∈ [--..--]
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  uy ∈ [--..--]
  uz ∈ [--..--]
  s ∈ [--..--]
  v ∈ [--..--]
[value] computing for function main1 <- main.
    Called from tests/value/downcast.i:152.
tests/value/downcast.i:20:[value] warning: unsigned downcast. assert 0 ≤ (int)sx + (int)sy;
tests/value/downcast.i:21:[value] warning: unsigned downcast. assert 0 ≤ x;
tests/value/downcast.i:21:[value] warning: unsigned downcast. assert x ≤ 255;
tests/value/downcast.i:24:[value] warning: unsigned downcast. assert uy + uz ≤ 65535;
[value] Recording results for main1
[value] Done for function main1
[value] computing for function main2_bitfield <- main.
    Called from tests/value/downcast.i:153.
tests/value/downcast.i:33:[value] warning: unsigned downcast. assert j ≤ 31;
[value] Recording results for main2_bitfield
[value] Done for function main2_bitfield
[value] computing for function main3_reduction <- main.
    Called from tests/value/downcast.i:154.
tests/value/downcast.i:40:[value] warning: unsigned downcast. assert 0 ≤ v;
tests/value/downcast.i:41:[value] warning: unsigned downcast. assert y ≤ 255;
[value] Recording results for main3_reduction
[value] Done for function main3_reduction
[value] computing for function main4_pointer <- main.
    Called from tests/value/downcast.i:155.
tests/value/downcast.i:50:[value] warning: signed overflow. assert -9223372036854775808 ≤ p + (long long)100;
tests/value/downcast.i:50:[value] warning: signed overflow. assert p + (long long)100 ≤ 9223372036854775807;
tests/value/downcast.i:51:[value] warning: unsigned downcast. assert 0 ≤ p;
tests/value/downcast.i:51:[value] warning: unsigned downcast. assert p ≤ 4294967295;
[value] Recording results for main4_pointer
[value] Done for function main4_pointer
[value] computing for function main5_wrap_signed <- main.
    Called from tests/value/downcast.i:156.
tests/value/downcast.i:63:[value] Frama_C_show_each:
    [100000..2147483647], [100145..2147483792], [-2147483648..2147483647]
tests/value/downcast.i:64:[value] warning: assertion got status unknown.
[value] Recording results for main5_wrap_signed
[value] Done for function main5_wrap_signed
[value] computing for function main6_val_warn_converted_signed <- main.
    Called from tests/value/downcast.i:157.
tests/value/downcast.i:81:[value] warning: unsigned downcast. assert 0 ≤ -12;
tests/value/downcast.i:86:[value] warning: unsigned downcast. assert 0 ≤ -64000;
tests/value/downcast.i:92:[value] Assigning imprecise value to y.
    The imprecision originates from Arithmetic {tests/value/downcast.i:92}
tests/value/downcast.i:93:[value] warning: unsigned downcast. assert p ≤ 65535;
[value] Recording results for main6_val_warn_converted_signed
[value] Done for function main6_val_warn_converted_signed
[value] computing for function main7_signed_upcast <- main.
    Called from tests/value/downcast.i:158.
[value] Recording results for main7_signed_upcast
[value] Done for function main7_signed_upcast
[value] computing for function main8_bitfields <- main.
    Called from tests/value/downcast.i:159.
[value] Recording results for main8_bitfields
[value] Done for function main8_bitfields
[value] computing for function main9_bitfield <- main.
    Called from tests/value/downcast.i:160.
tests/value/downcast.i:134:[value] assertion got status valid.
[value] Recording results for main9_bitfield
[value] Done for function main9_bitfield
[value] computing for function main10_loop <- main.
    Called from tests/value/downcast.i:161.
tests/value/downcast.i:146:[value] warning: unsigned downcast. assert 0 ≤ v;
tests/value/downcast.i:146:[value] warning: unsigned downcast. assert v ≤ 1023;
[value] Recording results for main10_loop
[value] Done for function main10_loop
[value] Recording results for main
[value] done for function main
tests/value/downcast.i:33:[value] assertion 'Value,unsigned_downcast' got final status invalid.
tests/value/downcast.i:81:[value] assertion 'Value,unsigned_downcast' got final status invalid.
tests/value/downcast.i:86:[value] assertion 'Value,unsigned_downcast' got final status invalid.
[value] ====== VALUES COMPUTED ======
[value:final-states] Values at end of function main1:
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  s ∈ [--..--]
[value:final-states] Values at end of function main10_loop:
  c ∈ [--..--] or UNINITIALIZED
  bf.b ∈ [--..--] or UNINITIALIZED
    .[bits 10 to 31] ∈ UNINITIALIZED
  k ∈ {10}
[value:final-states] Values at end of function main2_bitfield:
  i ∈ {117}
  j ∈ {254}
  ss.i ∈ {-11} or UNINITIALIZED
    {.j; .[bits 10 to 31]} ∈ UNINITIALIZED
[value:final-states] Values at end of function main3_reduction:
  x_0 ∈ [--..--]
  c ∈ [--..--]
  y ∈ [0..255]
  d ∈ [--..--]
[value:final-states] Values at end of function main4_pointer:
  p ∈ {{ &x_0 + {100} }}
  q ∈ {{ &x_0 + {100} }}
  r ∈ {{ &x_0 + {100} }}
[value:final-states] Values at end of function main5_wrap_signed:
  x_0 ∈ [100000..2147483647]
  y ∈ [100145..2147483792]
  z ∈ [--..--]
[value:final-states] Values at end of function main6_val_warn_converted_signed:
  
[value:final-states] Values at end of function main7_signed_upcast:
  c ∈ {240}
  i ∈ {240}
[value:final-states] Values at end of function main8_bitfields:
  S.i1 ∈ {65}
   .i2 ∈ {-1; 1} or UNINITIALIZED
   .[bits 24 to 31] ∈ UNINITIALIZED
  c ∈ {-1; 1; 65} or UNINITIALIZED
[value:final-states] Values at end of function main9_bitfield:
  bf.a ∈ {1648}
    .[bits 11 to 31] ∈ UNINITIALIZED
  c ∈ {112} or UNINITIALIZED
[value:final-states] Values at end of function main:
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  s ∈ [--..--]
[from] Computing for function main1
[from] Done for function main1
[from] Computing for function main10_loop
[from] Done for function main10_loop
[from] Computing for function main2_bitfield
[from] Done for function main2_bitfield
[from] Computing for function main3_reduction
[from] Done for function main3_reduction
[from] Computing for function main4_pointer
[from] Done for function main4_pointer
[from] Computing for function main5_wrap_signed
[from] Done for function main5_wrap_signed
[from] Computing for function main6_val_warn_converted_signed
[from] Done for function main6_val_warn_converted_signed
[from] Computing for function main7_signed_upcast
[from] Done for function main7_signed_upcast
[from] Computing for function main8_bitfields
[from] Done for function main8_bitfields
[from] Computing for function main9_bitfield
[from] Done for function main9_bitfield
[from] Computing for function main
[from] Done for function main
[from] ====== DEPENDENCIES COMPUTED ======
    These dependencies hold at termination for the executions that terminate:
[from] Function main1:
  sz FROM sx; sy
  uc FROM x
  x FROM uy; uz
  ux FROM uy; uz
  s FROM uy; uz
[from] Function main10_loop:
  NO EFFECTS
[from] Function main2_bitfield:
  NO EFFECTS
[from] Function main3_reduction:
  NO EFFECTS
[from] Function main4_pointer:
  NO EFFECTS
[from] Function main5_wrap_signed:
  NO EFFECTS
[from] Function main6_val_warn_converted_signed:
  NO EFFECTS
[from] Function main7_signed_upcast:
  NO EFFECTS
[from] Function main8_bitfields:
  NO EFFECTS
[from] Function main9_bitfield:
  NO EFFECTS
[from] Function main:
  sz FROM sx; sy
  uc FROM x
  x FROM uy; uz
  ux FROM uy; uz
  s FROM uy; uz
[from] ====== END OF DEPENDENCIES ======
[inout] Out (internal) for function main1:
      sz; uc; x; ux; s
[inout] Inputs for function main1:
      sx; sy; x; uy; uz
[inout] Out (internal) for function main10_loop:
      c; bf.b; k
[inout] Inputs for function main10_loop:
      v
[inout] Out (internal) for function main2_bitfield:
      i; j; ss{.i; .j}
[inout] Inputs for function main2_bitfield:
      v
[inout] Out (internal) for function main3_reduction:
      x_0; c; y; d
[inout] Inputs for function main3_reduction:
      v
[inout] Out (internal) for function main4_pointer:
      p; q; r
[inout] Inputs for function main4_pointer:
      \nothing
[inout] Out (internal) for function main5_wrap_signed:
      x_0; y; z
[inout] Inputs for function main5_wrap_signed:
      v
[inout] Out (internal) for function main6_val_warn_converted_signed:
      s_0; u; e; b; e_0; e_1; p; x_0; y; z
[inout] Inputs for function main6_val_warn_converted_signed:
      v
[inout] Out (internal) for function main7_signed_upcast:
      c; i
[inout] Inputs for function main7_signed_upcast:
      \nothing
[inout] Out (internal) for function main8_bitfields:
      S{.i1; .i2}; c
[inout] Inputs for function main8_bitfields:
      v
[inout] Out (internal) for function main9_bitfield:
      bf.a; signed_a; c
[inout] Inputs for function main9_bitfield:
      v
[inout] Out (internal) for function main:
      sz; uc; x; ux; s
[inout] Inputs for function main:
      sx; sy; x; uy; uz; v
[report] Computing properties status...

--------------------------------------------------------------------------------
--- Properties of Function 'main1'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 20)
            tried with Value.
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 21)
            tried with Value.
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 21)
            tried with Value.
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 24)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main2_bitfield'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 33)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 33)

--------------------------------------------------------------------------------
--- Properties of Function 'main3_reduction'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 40)
            tried with Value.
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 41)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main4_pointer'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_overflow' (file tests/value/downcast.i, line 50)
            tried with Value.
[    -    ] Assertion 'Value,signed_overflow' (file tests/value/downcast.i, line 50)
            tried with Value.
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 51)
            tried with Value.
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 51)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main5_wrap_signed'
--------------------------------------------------------------------------------

[    -    ] Assertion 'ASSUME' (file tests/value/downcast.i, line 58)
            tried with Value.
[  Valid  ] Assertion (file tests/value/downcast.i, line 59)
            by Value.
[    -    ] Assertion (file tests/value/downcast.i, line 64)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main6_val_warn_converted_signed'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 81)
            By Value, with pending:
             - Unreachable initialization of 'e_0' (file tests/value/downcast.i, line 81)
[  Alarm  ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 86)
            By Value, with pending:
             - Unreachable initialization of 'e_1' (file tests/value/downcast.i, line 86)
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 93)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main9_bitfield'
--------------------------------------------------------------------------------

[  Valid  ] Assertion (file tests/value/downcast.i, line 134)
            by Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main10_loop'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 146)
            tried with Value.
[    -    ] Assertion 'Value,unsigned_downcast' (file tests/value/downcast.i, line 146)
            tried with Value.

--------------------------------------------------------------------------------
--- Status Report Summary
--------------------------------------------------------------------------------
     2 Completely validated
    15 To be validated
     3 Alarms emitted
    20 Total
--------------------------------------------------------------------------------
/* Generated by Frama-C */
struct s {
   int i : 5 ;
   unsigned int j : 5 ;
};
struct bitf {
   unsigned int i1 : 18 ;
   int i2 : 6 ;
};
struct __anonstruct_bf_1 {
   unsigned int a : 11 ;
};
struct __anonstruct_bf_2 {
   unsigned int b : 10 ;
};
signed char sx;
signed char sy;
signed char sz;
unsigned char uc;
int x;
unsigned int ux;
unsigned int uy;
unsigned int uz;
unsigned short s;
int volatile v;
void main1(void)
{
  sz = (signed char)((int)sx + (int)sy);
  /*@ assert Value: unsigned_downcast: 0 ≤ (int)sx + (int)sy; */
  uc = (unsigned char)((int)sx + (int)sy);
  /*@ assert Value: unsigned_downcast: 0 ≤ x; */
  /*@ assert Value: unsigned_downcast: x ≤ 255; */
  uc = (unsigned char)x;
  x = (int)(uy + uz);
  ux = uy + uz;
  /*@ assert Value: unsigned_downcast: uy + uz ≤ 65535; */
  s = (unsigned short)(uy + uz);
  return;
}

void main2_bitfield(void)
{
  struct s ss;
  int i = 117;
  unsigned int j = (unsigned int)254;
  if (v) 
    ss.i = (int)i;
  if (v) 
    /*@ assert Value: unsigned_downcast: j ≤ 31; */
    ss.j = (unsigned int)j;
  return;
}

void main3_reduction(void)
{
  int x_0 = v;
  char c = (char)x_0;
  /*@ assert Value: unsigned_downcast: 0 ≤ v; */
  unsigned int y = (unsigned int)v;
  /*@ assert Value: unsigned_downcast: y ≤ 255; */
  unsigned char d = (unsigned char)y;
  return;
}

void main4_pointer(void)
{
  int x_0;
  long long p = (long long)(& x_0);
  /*@ assert
      Value: signed_overflow: -9223372036854775808 ≤ p + (long long)100;
  */
  /*@ assert
      Value: signed_overflow: p + (long long)100 ≤ 9223372036854775807;
  */
  p += (long long)100;
  /*@ assert Value: unsigned_downcast: 0 ≤ p; */
  /*@ assert Value: unsigned_downcast: p ≤ 4294967295; */
  unsigned int q = (unsigned int)p;
  int r = (int)p;
  return;
}

/*@ assigns \result;
    assigns \result \from \nothing; */
extern int ( /* missing proto */ Frama_C_show_each)();

void main5_wrap_signed(void)
{
  int x_0 = v;
  /*@ assert ASSUME: x_0 ≥ 100000; */ ;
  /*@ assert x_0 > 0x7FFFFFFF - 145 ∨ x_0 ≤ 0x7FFFFFFF - 145; */ ;
  unsigned int y = (unsigned int)x_0;
  y += (unsigned int)145;
  int z = (int)y;
  Frama_C_show_each(x_0,y,z);
  /*@ assert z ≥ 100000 + 145 ∨ z ≤ (int)(0x7FFFFFFF + 145); */ ;
  return;
}

void main6_val_warn_converted_signed(void)
{
  if (v) {
    short s_0 = (short)65300u;
  }
  if (v) {
    unsigned short u = (unsigned short)65300u;
  }
  if (v) {
    unsigned long e = (unsigned long)17;
    short b = (short)e;
  }
  if (v) {
    /*@ assert Value: unsigned_downcast: 0 ≤ -12; */
    unsigned long e_0 = (unsigned long)(-12);
    short b_0 = (short)e_0;
  }
  if (v) {
    /*@ assert Value: unsigned_downcast: 0 ≤ -64000; */
    unsigned int e_1 = (unsigned int)(-64000);
    short b_1 = (short)e_1;
  }
  if (v) {
    int *p = (int *)(& v);
    int x_0 = (int)p;
    short y = (short)p;
    /*@ assert Value: unsigned_downcast: p ≤ 65535; */
    unsigned short z = (unsigned short)p;
  }
  return;
}

void main7_signed_upcast(void)
{
  unsigned char c = (unsigned char)240;
  int i = (int)c;
  return;
}

void main8_bitfields(void)
{
  struct bitf S;
  signed char c;
  S.i1 = (unsigned int)0x3FFFF;
  if (v) 
    S.i2 = (int)S.i1;
  if (v) 
    c = (signed char)S.i1;
  S.i1 = (unsigned int)257u;
  if (v) 
    S.i2 = (int)S.i1;
  if (v) 
    c = (signed char)S.i1;
  S.i1 = (unsigned int)65u;
  if (v) 
    S.i2 = (int)S.i1;
  if (v) c = (signed char)S.i1;
  return;
}

void main9_bitfield(void)
{
  struct __anonstruct_bf_1 bf;
  signed char c;
  bf.a = (unsigned int)1648;
  if (v) {
    int signed_a = (int)((int)bf.a);
    /*@ assert signed_a ≡ -400; */ ;
  }
  if (v) 
    c = (signed char)bf.a;
  return;
}

void main10_loop(void)
{
  signed char c;
  struct __anonstruct_bf_2 bf;
  int k = 0;
  while (k < 10) {
    /*@ assert Value: unsigned_downcast: 0 ≤ v; */
    /*@ assert Value: unsigned_downcast: v ≤ 1023; */
    bf.b = (unsigned int)v;
    if (v) 
      c = (signed char)bf.b;
    k ++;
  }
  return;
}

void main(void)
{
  main1();
  main2_bitfield();
  main3_reduction();
  main4_pointer();
  main5_wrap_signed();
  main6_val_warn_converted_signed();
  main7_signed_upcast();
  main8_bitfields();
  main9_bitfield();
  main10_loop();
  return;
}


[value] Analyzing an incomplete application starting at main
[value] Computing initial state
[value] Initial state computed
[value:initial-state] Values of globals at initialization
  sx ∈ [--..--]
  sy ∈ [--..--]
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  uy ∈ [--..--]
  uz ∈ [--..--]
  s ∈ [--..--]
  v ∈ [--..--]
[value] computing for function main1 <- main.
    Called from tests/value/downcast.i:152.
tests/value/downcast.i:19:[value] warning: signed downcast. assert -128 ≤ (int)sx + (int)sy;
tests/value/downcast.i:19:[value] warning: signed downcast. assert (int)sx + (int)sy ≤ 127;
[value] Recording results for main1
[value] Done for function main1
[value] computing for function main2_bitfield <- main.
    Called from tests/value/downcast.i:153.
tests/value/downcast.i:32:[value] warning: signed downcast. assert i ≤ 15;
[value] Recording results for main2_bitfield
[value] Done for function main2_bitfield
[value] computing for function main3_reduction <- main.
    Called from tests/value/downcast.i:154.
tests/value/downcast.i:38:[value] warning: signed downcast. assert -128 ≤ x_0;
tests/value/downcast.i:38:[value] warning: signed downcast. assert x_0 ≤ 127;
[value] Recording results for main3_reduction
[value] Done for function main3_reduction
[value] computing for function main4_pointer <- main.
    Called from tests/value/downcast.i:155.
tests/value/downcast.i:50:[value] warning: signed overflow. assert -9223372036854775808 ≤ p + (long long)100;
tests/value/downcast.i:50:[value] warning: signed overflow. assert p + (long long)100 ≤ 9223372036854775807;
tests/value/downcast.i:52:[value] warning: signed downcast. assert -2147483648 ≤ p;
tests/value/downcast.i:52:[value] warning: signed downcast. assert p ≤ 2147483647;
[value] Recording results for main4_pointer
[value] Done for function main4_pointer
[value] computing for function main5_wrap_signed <- main.
    Called from tests/value/downcast.i:156.
tests/value/downcast.i:63:[value] Frama_C_show_each:
    [100000..2147483647], [100145..2147483792], [-2147483648..2147483647]
[value] Recording results for main5_wrap_signed
[value] Done for function main5_wrap_signed
[value] computing for function main6_val_warn_converted_signed <- main.
    Called from tests/value/downcast.i:157.
tests/value/downcast.i:71:[value] warning: signed downcast. assert (int)65300u ≤ 32767;
tests/value/downcast.i:87:[value] warning: signed downcast. assert -32768 ≤ (int)e_1;
tests/value/downcast.i:92:[value] warning: signed downcast. assert -32768 ≤ (int)p;
tests/value/downcast.i:92:[value] warning: signed downcast. assert (int)p ≤ 32767;
[value] Recording results for main6_val_warn_converted_signed
[value] Done for function main6_val_warn_converted_signed
[value] computing for function main7_signed_upcast <- main.
    Called from tests/value/downcast.i:158.
[value] Recording results for main7_signed_upcast
[value] Done for function main7_signed_upcast
[value] computing for function main8_bitfields <- main.
    Called from tests/value/downcast.i:159.
tests/value/downcast.i:119:[value] warning: signed downcast. assert (int)S.i1 ≤ 31;
tests/value/downcast.i:120:[value] warning: signed downcast. assert (int)S.i1 ≤ 127;
tests/value/downcast.i:124:[value] warning: signed downcast. assert (int)S.i1 ≤ 31;
[value] Recording results for main8_bitfields
[value] Done for function main8_bitfields
[value] computing for function main9_bitfield <- main.
    Called from tests/value/downcast.i:160.
tests/value/downcast.i:137:[value] warning: signed downcast. assert -128 ≤ (int)bf.a;
[value] Recording results for main9_bitfield
[value] Done for function main9_bitfield
[value] computing for function main10_loop <- main.
    Called from tests/value/downcast.i:161.
tests/value/downcast.i:147:[value] warning: signed downcast. assert -128 ≤ (int)bf.b;
tests/value/downcast.i:147:[value] warning: signed downcast. assert (int)bf.b ≤ 127;
[value] Recording results for main10_loop
[value] Done for function main10_loop
[value] Recording results for main
[value] done for function main
[value] ====== VALUES COMPUTED ======
[value:final-states] Values at end of function main1:
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  s ∈ [--..--]
[value:final-states] Values at end of function main10_loop:
  c ∈ [--..--] or UNINITIALIZED
  bf.b ∈ [--..--] or UNINITIALIZED
    .[bits 10 to 31] ∈ UNINITIALIZED
  k ∈ {10}
[value:final-states] Values at end of function main2_bitfield:
  i ∈ {117}
  j ∈ {254}
  ss.i ∈ UNINITIALIZED
    .j ∈ {30} or UNINITIALIZED
    .[bits 10 to 31] ∈ UNINITIALIZED
[value:final-states] Values at end of function main3_reduction:
  x_0 ∈ [-128..127]
  c ∈ [--..--]
  y ∈ [--..--]
  d ∈ [--..--]
[value:final-states] Values at end of function main4_pointer:
  p ∈ {{ &x_0 + {100} }}
  q ∈ {{ &x_0 + {100} }}
  r ∈ {{ &x_0 + {100} }}
[value:final-states] Values at end of function main5_wrap_signed:
  x_0 ∈ [100000..2147483647]
  y ∈ [100145..2147483792]
  z ∈ [--..--]
[value:final-states] Values at end of function main6_val_warn_converted_signed:
  
[value:final-states] Values at end of function main7_signed_upcast:
  c ∈ {240}
  i ∈ {240}
[value:final-states] Values at end of function main8_bitfields:
  S.i1 ∈ {65}
   .i2 ∈ {-1} or UNINITIALIZED
   .[bits 24 to 31] ∈ UNINITIALIZED
  c ∈ {-1; 65} or UNINITIALIZED
[value:final-states] Values at end of function main9_bitfield:
  bf.a ∈ {1648}
    .[bits 11 to 31] ∈ UNINITIALIZED
  c ∈ UNINITIALIZED
[value:final-states] Values at end of function main:
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  s ∈ [--..--]
[from] Computing for function main1
[from] Done for function main1
[from] Computing for function main10_loop
[from] Done for function main10_loop
[from] Computing for function main2_bitfield
[from] Done for function main2_bitfield
[from] Computing for function main3_reduction
[from] Done for function main3_reduction
[from] Computing for function main4_pointer
[from] Done for function main4_pointer
[from] Computing for function main5_wrap_signed
[from] Done for function main5_wrap_signed
[from] Computing for function main6_val_warn_converted_signed
[from] Done for function main6_val_warn_converted_signed
[from] Computing for function main7_signed_upcast
[from] Done for function main7_signed_upcast
[from] Computing for function main8_bitfields
[from] Done for function main8_bitfields
[from] Computing for function main9_bitfield
[from] Done for function main9_bitfield
[from] Computing for function main
[from] Done for function main
[from] ====== DEPENDENCIES COMPUTED ======
    These dependencies hold at termination for the executions that terminate:
[from] Function main1:
  sz FROM sx; sy
  uc FROM x
  x FROM uy; uz
  ux FROM uy; uz
  s FROM uy; uz
[from] Function main10_loop:
  NO EFFECTS
[from] Function main2_bitfield:
  NO EFFECTS
[from] Function main3_reduction:
  NO EFFECTS
[from] Function main4_pointer:
  NO EFFECTS
[from] Function main5_wrap_signed:
  NO EFFECTS
[from] Function main6_val_warn_converted_signed:
  NO EFFECTS
[from] Function main7_signed_upcast:
  NO EFFECTS
[from] Function main8_bitfields:
  NO EFFECTS
[from] Function main9_bitfield:
  NO EFFECTS
[from] Function main:
  sz FROM sx; sy
  uc FROM x
  x FROM uy; uz
  ux FROM uy; uz
  s FROM uy; uz
[from] ====== END OF DEPENDENCIES ======
[inout] Out (internal) for function main1:
      sz; uc; x; ux; s
[inout] Inputs for function main1:
      sx; sy; x; uy; uz
[inout] Out (internal) for function main10_loop:
      c; bf.b; k
[inout] Inputs for function main10_loop:
      v
[inout] Out (internal) for function main2_bitfield:
      i; j; ss{.i; .j}
[inout] Inputs for function main2_bitfield:
      v
[inout] Out (internal) for function main3_reduction:
      x_0; c; y; d
[inout] Inputs for function main3_reduction:
      v
[inout] Out (internal) for function main4_pointer:
      p; q; r
[inout] Inputs for function main4_pointer:
      \nothing
[inout] Out (internal) for function main5_wrap_signed:
      x_0; y; z
[inout] Inputs for function main5_wrap_signed:
      v
[inout] Out (internal) for function main6_val_warn_converted_signed:
      s_0; u; e; b; e_0; b_0; e_1; b_1; p; x_0; y; z
[inout] Inputs for function main6_val_warn_converted_signed:
      v
[inout] Out (internal) for function main7_signed_upcast:
      c; i
[inout] Inputs for function main7_signed_upcast:
      \nothing
[inout] Out (internal) for function main8_bitfields:
      S{.i1; .i2}; c
[inout] Inputs for function main8_bitfields:
      v
[inout] Out (internal) for function main9_bitfield:
      bf.a; signed_a; c
[inout] Inputs for function main9_bitfield:
      v
[inout] Out (internal) for function main:
      sz; uc; x; ux; s
[inout] Inputs for function main:
      sx; sy; x; uy; uz; v
[report] Computing properties status...

--------------------------------------------------------------------------------
--- Properties of Function 'main1'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 19)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 19)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main2_bitfield'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 32)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 32)

--------------------------------------------------------------------------------
--- Properties of Function 'main3_reduction'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 38)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 38)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main4_pointer'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_overflow' (file tests/value/downcast.i, line 50)
            tried with Value.
[    -    ] Assertion 'Value,signed_overflow' (file tests/value/downcast.i, line 50)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 52)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 52)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main5_wrap_signed'
--------------------------------------------------------------------------------

[    -    ] Assertion 'ASSUME' (file tests/value/downcast.i, line 58)
            tried with Value.
[  Valid  ] Assertion (file tests/value/downcast.i, line 59)
            by Value.
[    -    ] Assertion (file tests/value/downcast.i, line 64)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main6_val_warn_converted_signed'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 71)
            By Value, with pending:
             - Unreachable initialization of 's_0' (file tests/value/downcast.i, line 71)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 87)
            By Value, with pending:
             - Unreachable initialization of 'b_1' (file tests/value/downcast.i, line 87)
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 92)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 92)
            tried with Value.

--------------------------------------------------------------------------------
--- Properties of Function 'main8_bitfields'
--------------------------------------------------------------------------------

[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 119)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 119)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 120)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 120)
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 124)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 124)

--------------------------------------------------------------------------------
--- Properties of Function 'main9_bitfield'
--------------------------------------------------------------------------------

[  Valid  ] Assertion (file tests/value/downcast.i, line 134)
            by Value.
[  Alarm  ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 137)
            By Value, with pending:
             - Unreachable instruction (file tests/value/downcast.i, line 137)

--------------------------------------------------------------------------------
--- Properties of Function 'main10_loop'
--------------------------------------------------------------------------------

[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 147)
            tried with Value.
[    -    ] Assertion 'Value,signed_downcast' (file tests/value/downcast.i, line 147)
            tried with Value.

--------------------------------------------------------------------------------
--- Status Report Summary
--------------------------------------------------------------------------------
     2 Completely validated
    14 To be validated
     7 Alarms emitted
    23 Total
--------------------------------------------------------------------------------
/* Generated by Frama-C */
struct s {
   int i : 5 ;
   unsigned int j : 5 ;
};
struct bitf {
   unsigned int i1 : 18 ;
   int i2 : 6 ;
};
struct __anonstruct_bf_1 {
   unsigned int a : 11 ;
};
struct __anonstruct_bf_2 {
   unsigned int b : 10 ;
};
signed char sx;
signed char sy;
signed char sz;
unsigned char uc;
int x;
unsigned int ux;
unsigned int uy;
unsigned int uz;
unsigned short s;
int volatile v;
void main1(void)
{
  /*@ assert Value: signed_downcast: -128 ≤ (int)sx + (int)sy; */
  /*@ assert Value: signed_downcast: (int)sx + (int)sy ≤ 127; */
  sz = (signed char)((int)sx + (int)sy);
  uc = (unsigned char)((int)sx + (int)sy);
  uc = (unsigned char)x;
  x = (int)(uy + uz);
  ux = uy + uz;
  s = (unsigned short)(uy + uz);
  return;
}

void main2_bitfield(void)
{
  struct s ss;
  int i = 117;
  unsigned int j = (unsigned int)254;
  if (v) 
    /*@ assert Value: signed_downcast: i ≤ 15; */
    ss.i = (int)i;
  if (v) 
    ss.j = (unsigned int)j;
  return;
}

void main3_reduction(void)
{
  int x_0 = v;
  /*@ assert Value: signed_downcast: -128 ≤ x_0; */
  /*@ assert Value: signed_downcast: x_0 ≤ 127; */
  char c = (char)x_0;
  unsigned int y = (unsigned int)v;
  unsigned char d = (unsigned char)y;
  return;
}

void main4_pointer(void)
{
  int x_0;
  long long p = (long long)(& x_0);
  /*@ assert
      Value: signed_overflow: -9223372036854775808 ≤ p + (long long)100;
  */
  /*@ assert
      Value: signed_overflow: p + (long long)100 ≤ 9223372036854775807;
  */
  p += (long long)100;
  unsigned int q = (unsigned int)p;
  /*@ assert Value: signed_downcast: -2147483648 ≤ p; */
  /*@ assert Value: signed_downcast: p ≤ 2147483647; */
  int r = (int)p;
  return;
}

/*@ assigns \result;
    assigns \result \from \nothing; */
extern int ( /* missing proto */ Frama_C_show_each)();

void main5_wrap_signed(void)
{
  int x_0 = v;
  /*@ assert ASSUME: x_0 ≥ 100000; */ ;
  /*@ assert x_0 > 0x7FFFFFFF - 145 ∨ x_0 ≤ 0x7FFFFFFF - 145; */ ;
  unsigned int y = (unsigned int)x_0;
  y += (unsigned int)145;
  int z = (int)y;
  Frama_C_show_each(x_0,y,z);
  /*@ assert z ≥ 100000 + 145 ∨ z ≤ (int)(0x7FFFFFFF + 145); */ ;
  return;
}

void main6_val_warn_converted_signed(void)
{
  if (v) {
    /*@ assert Value: signed_downcast: (int)65300u ≤ 32767; */
    short s_0 = (short)65300u;
  }
  if (v) {
    unsigned short u = (unsigned short)65300u;
  }
  if (v) {
    unsigned long e = (unsigned long)17;
    short b = (short)e;
  }
  if (v) {
    unsigned long e_0 = (unsigned long)(-12);
    short b_0 = (short)e_0;
  }
  if (v) {
    unsigned int e_1 = (unsigned int)(-64000);
    /*@ assert Value: signed_downcast: -32768 ≤ (int)e_1; */
    short b_1 = (short)e_1;
  }
  if (v) {
    int *p = (int *)(& v);
    int x_0 = (int)p;
    /*@ assert Value: signed_downcast: -32768 ≤ (int)p; */
    /*@ assert Value: signed_downcast: (int)p ≤ 32767; */
    short y = (short)p;
    unsigned short z = (unsigned short)p;
  }
  return;
}

void main7_signed_upcast(void)
{
  unsigned char c = (unsigned char)240;
  int i = (int)c;
  return;
}

void main8_bitfields(void)
{
  struct bitf S;
  signed char c;
  S.i1 = (unsigned int)0x3FFFF;
  if (v) 
    S.i2 = (int)S.i1;
  if (v) 
    c = (signed char)S.i1;
  S.i1 = (unsigned int)257u;
  if (v) 
    /*@ assert Value: signed_downcast: (int)S.i1 ≤ 31; */
    S.i2 = (int)S.i1;
  if (v) 
    /*@ assert Value: signed_downcast: (int)S.i1 ≤ 127; */
    c = (signed char)S.i1;
  S.i1 = (unsigned int)65u;
  if (v) 
    /*@ assert Value: signed_downcast: (int)S.i1 ≤ 31; */
    S.i2 = (int)S.i1;
  if (v) c = (signed char)S.i1;
  return;
}

void main9_bitfield(void)
{
  struct __anonstruct_bf_1 bf;
  signed char c;
  bf.a = (unsigned int)1648;
  if (v) {
    int signed_a = (int)((int)bf.a);
    /*@ assert signed_a ≡ -400; */ ;
  }
  if (v) 
    /*@ assert Value: signed_downcast: -128 ≤ (int)bf.a; */
    c = (signed char)bf.a;
  return;
}

void main10_loop(void)
{
  signed char c;
  struct __anonstruct_bf_2 bf;
  int k = 0;
  while (k < 10) {
    bf.b = (unsigned int)v;
    if (v) 
      /*@ assert Value: signed_downcast: -128 ≤ (int)bf.b; */
      /*@ assert Value: signed_downcast: (int)bf.b ≤ 127; */
      c = (signed char)bf.b;
    k ++;
  }
  return;
}

void main(void)
{
  main1();
  main2_bitfield();
  main3_reduction();
  main4_pointer();
  main5_wrap_signed();
  main6_val_warn_converted_signed();
  main7_signed_upcast();
  main8_bitfields();
  main9_bitfield();
  main10_loop();
  return;
}


[value] Analyzing an incomplete application starting at main5_wrap_signed
[value] Computing initial state
[value] Initial state computed
[value:initial-state] Values of globals at initialization
  sx ∈ [--..--]
  sy ∈ [--..--]
  sz ∈ [--..--]
  uc ∈ [--..--]
  x ∈ [--..--]
  ux ∈ [--..--]
  uy ∈ [--..--]
  uz ∈ [--..--]
  s ∈ [--..--]
  v ∈ [--..--]
tests/value/downcast.i:63:[value] Frama_C_show_each:
    [2147483503..2147483647],
    [2147483648..2147483792],
    [-2147483648..-2147483504]
tests/value/downcast.i:63:[value] Frama_C_show_each:
    [100000..2147483502], [100145..2147483647], [100145..2147483647]
[value] Recording results for main5_wrap_signed
[value] done for function main5_wrap_signed
[value] ====== VALUES COMPUTED ======
[value:final-states] Values at end of function main5_wrap_signed:
  x_0 ∈ [100000..2147483647]
  y ∈ [100145..2147483792]
  z ∈ [--..--]
[from] Computing for function main5_wrap_signed
[from] Done for function main5_wrap_signed
[from] ====== DEPENDENCIES COMPUTED ======
    These dependencies hold at termination for the executions that terminate:
[from] Function main5_wrap_signed:
  NO EFFECTS
[from] ====== END OF DEPENDENCIES ======
[inout] Out (internal) for function main5_wrap_signed:
      x_0; y; z
[inout] Inputs for function main5_wrap_signed:
      v
[report] Computing properties status...

--------------------------------------------------------------------------------
--- Properties of Function 'main5_wrap_signed'
--------------------------------------------------------------------------------

[    -    ] Assertion 'ASSUME' (file tests/value/downcast.i, line 58)
            tried with Value (v2).
[  Valid  ] Assertion (file tests/value/downcast.i, line 59)
            by Value (v2).
[  Valid  ] Assertion (file tests/value/downcast.i, line 64)
            by Value (v2).

--------------------------------------------------------------------------------
--- Properties of Function 'main9_bitfield'
--------------------------------------------------------------------------------

[  Dead   ] Assertion (file tests/value/downcast.i, line 134)
            Locally valid, but unreachable.
            By Value (v2) because:
             - Unreachable program point (file tests/value/downcast.i, line 134)
[Unreachable] Unreachable program point (file tests/value/downcast.i, line 134)
            by Value (v2).

--------------------------------------------------------------------------------
--- Status Report Summary
--------------------------------------------------------------------------------
     2 Completely validated
     1 To be validated
     1 Dead property
     1 Unreachable
     5 Total
--------------------------------------------------------------------------------
