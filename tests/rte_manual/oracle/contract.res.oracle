[kernel] Parsing tests/rte_manual/contract.i (no preprocessing)
[rte] annotating function f
[rte] annotating function main
/* Generated by Frama-C */
/*@ ensures \result ≡ -\old(x);
    
    behavior pos:
      assumes x ≥ 0;
      ensures \result ≤ 0;
      assigns *y;
    
    behavior neg:
      assumes x < 0;
      ensures \result > 0;
      assigns \nothing;
 */
int f(int x, int *y)
{
  int __retres;
  if (x >= 0) 
    /*@ assert rte: mem_access: \valid(y); */
    *y = x;
  /*@ assert rte: signed_overflow: -2147483647 ≤ x; */
  __retres = - x;
  return __retres;
}

int main(void)
{
  int __retres;
  int a;
  int b;
  int c;
  a = 5;
  /*@ behavior pre_f:
        ensures b ≡ -\old(a);
      
      behavior pre_f_pos:
        assumes a ≥ 0;
        ensures b ≤ 0;
        assigns b, c;
      
      behavior pre_f_neg:
        assumes a < 0;
        ensures b > 0;
        assigns b;
  */
  b = f(a,& c);
  /*@ assert rte: signed_overflow: -2147483648 ≤ b + c; */
  /*@ assert rte: signed_overflow: b + c ≤ 2147483647; */
  __retres = b + c;
  return __retres;
}


